# ==========================================
# 1) RPC / 网络设置
# ==========================================
# Solana RPC 节点地址 (有默认值)
# 系统已内置 mainnet-beta 默认地址。
# 建议使用付费/私有 RPC 以获得更好稳定性和更高速率限制。
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# 代理配置 (强烈建议配置)
# 在本地运行时，极易遇到 RPC 或 Jupiter API 限流 (429)。
# 强烈建议配置 HTTP 代理以保证连接稳定性。
# HTTP_PROXY=http://127.0.0.1:7890
# HTTPS_PROXY=http://127.0.0.1:7890

# Jupiter API Key (必须)
# 用于获取精准的路由报价。
# 未配置时极易因限流导致无法获取 Quote，程序将无法正常运行。
# 请前往 jup.ag 申请 (有免费额度)。
# JUP_API_KEY=

# ==========================================
# 2) 钱包设置
# ==========================================
# 钱包助记词 (必填)
# 逗号分隔的 24 位助记词列表。支持多钱包。
# 示例: "word1 ... word24, word1 ... word24"
WALLET_KEYS="word1 ... word24, word1 ... word24"

# 钱包标签 (可选)
# 逗号分隔的标签，与上面的钱包一一对应。
# 用于在日志和通知中区分不同钱包。
# WALLET_LABELS=Main,Sub1

# 单钱包模式 (旧版/可选)
# 如果使用单钱包模式 "npm run start"，则读取此配置。
# SOLANA_MNEMONIC=word1 ... word24

# ==========================================
# 3) Telegram 通知设置
# ==========================================
# Telegram Bot Token (可选)
# 从 @BotFather 获取
TG_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz

# Telegram Chat ID (可选)
# 从 @userinfobot 或类似 bot 获取
TG_CHAT_ID=123456789

# 启用/禁用 Telegram 通知 (必填: true/false)
TG_ENABLED=true

# ==========================================
# 4) Anchor / 运行参数
# ==========================================
# 交易次数 / 循环次数 (每个钱包 - 必须)
# 核心执行参数：决定每个钱包执行多少轮 Anchor 策略。
# 必须配置，否则无法启动。
DRIP_TRADES=10

# 最大执行时间 (秒) (每个钱包 - 必须)
# 核心执行参数：定义每个钱包的独立运行时间窗口。
# 超时未完成则强制停止并切换下一个钱包。
DRIP_WINDOW_SEC=3600

# 每次 Swap 的金额范围 (USDC)
# 机器人会在最小值和最大值之间随机选择一个金额。
# 默认: 0.1 - 0.2 USDC
DRIP_AMOUNT_MIN_USDC=0.1
DRIP_AMOUNT_MAX_USDC=0.2

# Anchor 模式的目标 Token 列表 (Anchor 模式必填)
# 格式为 Token 对象的 JSON 数组。
# 重要: 列表中不要包含 USDC。USDC 是默认的基础资产。
# 流程是: USDC -> [列表中的 Token] -> USDC
# 下面的例子包含 SOL (9位小数) 和 JUP (6位小数):
DRIP_TOKENS_JSON='[{"mint":"So11111111111111111111111111111111111111112","decimals":9}, {"mint":"JUPyiwrYJFskUPiHa7hkeR8VUtkWAqZSgSoYtDdHCw","decimals":6}]'

# 是否发送 Anchor 总结到 Telegram? (true/false)
# 如果 TG_ENABLED 为 true，这里默认为 true。
# 注意：发送的内容为专门设计的“卡片式”摘要，方便手机查看。
ANCHOR_TG_NOTIFY=true

# ==========================================
# 5) Anchor 模式重试策略 (Retry Policy)
# ==========================================
# 交易失败（如滑点过高、路由失效）是链上交互的常态。
# 以下配置决定了系统在失败时如何“聪明地”进行补救。

# 最大重试次数（默认为 2）
# 含义：如果第一次交易失败，系统最多还会再试几次。
# 举例：设置为 2，意味着最多尝试 1（初始）+ 2（重试）= 3 次。
# 建议：不要设置过大，避免死循环消耗 GAS。
ANCHOR_SWAP_RETRY_MAX=2

# 初始等待时间 (毫秒)
# 含义：第一次重试前，先冷静等待多久。
# 作用：避开瞬时的网络拥堵或价格剧烈波动。
ANCHOR_SWAP_RETRY_BACKOFF_MS=500

# 最大等待时间 (毫秒)
# 含义：随着重试次数增加，等待时间会指数级增长（500 -> 1000 -> 2000...）。
#      此参数限制了等待时间的上限，防止等太久。
ANCHOR_SWAP_RETRY_BACKOFF_MAX_MS=4000

# 动态滑点：每次重试增加多少 (bps)
# 含义：为了提高成功率，每次重试时允许比上次多一点滑点。
#      (1 bps = 0.01%)。默认 25 bps 即 0.25%。
# 作用：价格波动剧烈时，稍微“让利”以确保成交。
ANCHOR_RETRY_SLIPPAGE_BPS_STEP=25

# 动态滑点：最大允许滑点 (bps)
# 含义：无论怎么重试，滑点绝对不能超过这个底线。
# 作用：保护资产，防止被恶意夹子（MEV）攻击导致严重亏损。
ANCHOR_RETRY_SLIPPAGE_BPS_MAX=200

# 仅重试“卖出”操作？(true/false)
# 含义：
#   true (推荐) = 买入失败直接放弃（不亏钱），但卖出失败必须死磕（防止烂在手里）。
#   false = 买入和卖出失败都会尝试重试。
# 为什么默认 true？
#   因为买入失败只是“没赚到积分”，资产还在 USDC 里，安全。
#   但卖出失败意味着持有波动资产，必须尽快换回 USDC 以规避风险。
ANCHOR_RETRY_SELL_ONLY=true

# 调试模式 (true/false)
# 打印详细日志，包括完整的 HTTP 请求/响应。
DEBUG=false
